<crowd-form answer-format="flatten-objects">
  <section class="container-fluid" id="Relevancy">
    <div class="row">
      <div class="col-xs-12 col-md-12">
        <div class="panel panel-primary">
          <a class="panel-heading" href="javascript:void(0);" id="collapseTrigger">
            <strong>Annotation Instructions</strong>
            <span class="collapse-text">(Click to expand)</span>
          </a>
          <div class="panel-body" id="instructionBody">
            {{INSTRUCTIONS}}
            {{LINK}}
          </div>
        </div>
      </div>
    </div>

    <h3>Document</h3>
    <div id="document-text" class="ann well well-sm">
      The 2019 Quetta <trigger id='trigger-0'>bombing</trigger> was a suicide <role id='role-0-ExplosiveDevice'trigno='0'>bomb</role> attack on an open <role id='role-0-Target'trigno='0'>marketplace</role> in <role id='role-0-Place'trigno='0'>Quetta</role>, Pakistan on 12 April, <trigger id='trigger-1'>killing</trigger> 21 <role id='role-1-Victim'trigno='1'>people</role>. The bombing <trigger id='trigger-2'>took place</trigger> near an <role id='role-2-Place'trigno='2'>area</role> where many minority Shiite Muslims live. At least ten Hazara, including nine <role id='role-3-Victim'trigno='3'>Shiites</role>, <trigger id='trigger-3'>were</trigger> among the dead. Two paramilitary <role id='role-4-Victim'trigno='4'>soldiers</role> were also <trigger id='trigger-4'>killed</trigger> in the bombing. PM <role id='role-5-Participant'trigno='5'><role id='role-5-Participant'trigno='5'>Imran Khan</role></role> <trigger id='trigger-5'>expressed</trigger> condolences for the lives lost, directed the <role id='role-6-Treater'trigno='6'>authorities</role> to ensure the best medical <trigger id='trigger-6'>treatment</trigger> for the <role id='role-6-Patient'trigno='6'>injured</role>, and ordered an increase in security for Shiites and Hazara people. Lashkar-e-Jhangvi and ISIL later accepted responsibility for the attack, stating that"their target were Hazara people."== Background == Hazaras have been frequently targeted by Taliban and Islamic State militants and other Sunni Muslim militant groups in both Pakistan and Afghanistan. They have been heavily targeted in Afghanistan in attacks claimed by an affiliate of the Islamic State. 509 Hazara <role id='role-7-Victim'trigno='7'>people</role> has been <trigger id='trigger-7'>killed</trigger> in terror related incidents in the last 5 years alone in <role id='role-7-Place'trigno='7'>Quetta</role>. <role id='role-8-Victim'trigno='8'>Most</role> of them have been <trigger id='trigger-8'>killed</trigger> in targeted killings, mass shootings, and suicide attacks. Sunni extremist groups consider Hazara people to be kafirs, as they are predominantly Shia. == Blast == A suicide attack was <trigger id='trigger-9'>carried out</trigger> in the late afternoon of 12 April 2019 by the Sunni <role id='role-9-Attacker'trigno='9'>militant</role> at a potato <role id='role-9-Place'trigno='9'>stall</role> in a crowded Hazarganji vegetable market. One <role id='role-10-Participant'trigno='10'><role id='role-10-Participant'trigno='10'>survivor</role></role> <trigger id='trigger-10'>reported</trigger> the blast being so powerful that the air was filled with black smoke and people were unable to hear each other. 20 people including one paramilitary soldier were <trigger id='trigger-11'>killed</trigger>, as well as the <role id='role-11-Killer'trigno='11'><role id='role-11-Victim'trigno='11'>perpetrator</role></role>. On 16 April, one more paramilitary soldier died of his injuries. == Responsibility == Initially, no group claimed responsibility for the blast. After some hours, the leader of Sunni militant group Lashkar-e-Jhangvi claimed responsibility for the attack and issued a warning that more attacks were planned. A spokesperson of the group, Qari Saifullah, <trigger id='trigger-12'>told</trigger> <role id='role-12-Participant'trigno='12'><role id='role-12-Participant'trigno='12'>CNN</role></role>"We claim responsibility for the attack in Quetta, we targeted the Hazara community."The same <role id='role-13-Attacker'trigno='13'>group</role> had previously <trigger id='trigger-13'>carried out</trigger> attacks against Hazara <role id='role-13-Target'trigno='13'>minorities</role>. ISIL also claimed the responsibility of this attack, releasing a photograph of the bomber along with his name. Various Sunni militant groups in Pakistan, including Lashkar-e-Jhangvi, have been backed by ISIL for several years. == Reaction == Pakistan's ruling Government <role id='role-23-Communicator'trigno='23'>PTI</role> condemned the attack and <trigger id='trigger-23'>wrote</trigger> on Twitter:"We strongly condemn the terrorist attack in #Quetta that resulted in the loss of innocent lives. Prayers for the injured and for the precious lives lost in this heinous attack. Condolences to the families who lost their loved ones. Quetta, the capital of Pakistan's restive southwestern province of Balochistan, is often targeted by militants, although this was the first such attack this year."We will not bow before terrorists,"Balochistan's chief minister, <role id='role-14-Participant'trigno='14'><role id='role-14-Participant'trigno='14'>Jam Kamal Khan</role></role>, <trigger id='trigger-14'>said</trigger> in a statement shortly after the bombing. Pakistani Prime Minister Imran Khan echoed the condemnation. In a tweet, <role id='role-15-Participant'trigno='15'><role id='role-15-Participant'trigno='15'>he</role></role> <trigger id='trigger-15'>wrote</trigger>:"Deeply saddened & have strongly condemned the terrorist attack in Hazarganji market area of Quetta targeting our innocent people. I have asked for an immediate inquiry & increased security for the (people). Prayers go to the families of the victims & for early recovery of the injured."Minister of state of Interior <role id='role-24-Communicator'trigno='24'>Shehryar Khan Afridi</role> condemn the attack and <trigger id='trigger-24'>wrote</trigger> on Twitter,"A coward attempt to hit the civilians in Quetta. Heartbreaking to see the <trigger id='trigger-16'>loss</trigger> of <role id='role-16-Victim'trigno='16'>civilians</role> life. Security <role id='role-17-Investigator'trigno='17'>forces</role> are <trigger id='trigger-17'>collecting</trigger> evidence for further investigation. #QuettaBlast."He visited the victims in Quetta on 15 April,"With Heavy heart met the elders of Hazara Community. Certainly your loss can never be recovered but we can set foundations of better tomorrow Let these sacrifices help us make a safer Balochistan & beter (Better) Pakistan. I am indebted that even in sorrow u heard me. I wil (will) stand by my words."After 4 days of sit-in, <role id='role-18-Demonstrator'trigno='18'>protesters</role> ended the <trigger id='trigger-18'>protest</trigger> after the successful talks, <role id='role-25-Communicator'trigno='25'>he</role> <trigger id='trigger-25'>wrote</trigger> on Twitter,"Our Hazara Community calls off to sit in; reflecting the tradition of high values & trust they have on the state Pak. Thanking Prov & Federal Govt for sharing their pain. I am indebted to respect bestowed by community elders for ending sit in. Thankful to CM Balochistan & @ sayedzbukhari."Opposition Party, Pakistan Peoples Party's leader Bilawal Bhutto Zardari condemned the attack. In a tweet, <role id='role-26-Communicator'trigno='26'>he</role> <trigger id='trigger-26'>wrote</trigger>:"Condemn the terrorist attack in #Quetta. The government must stop dragging its feet & take action to counter violent extremism. Thoughts and prayers with the families of the victims."People of Pakistan strongly condemned this attack, alongside Pakistani journalists, anchors, TV and political personalities. Though, no one from the ex-ruling Pmln party condemns the attack significantly, let alone Ahsan Iqbal and Maryam Aurangzeb. <role id='role-27-Communicator'trigno='27'>Ahsan Iqbal</role> <trigger id='trigger-27'>wrote</trigger> in the tweet,"Extremely saddened to hear Quetta blast news. Strongly condemn this attack. Govt must ensure those behind this attack are brought to justice. Prayers for the departed souls"Thomas Drew CMG is a British diplomat who is High Commissioner to Pakistan, condemn the attack, <role id='role-28-Communicator'trigno='28'>he</role> <trigger id='trigger-28'>wrote</trigger> in a tweet,"Horrific attack this morning in #Quetta. My thoughts, on behalf of Pakistan’s many British friends, are with the victims, their families and friends."Quetta's official PSL <role id='role-29-Communicator'trigno='29'>team</role> condemn the attack, <trigger id='trigger-29'>wrote</trigger> on Twitter,"We stand united against the coward attack on our beloved city. Stay strong Quetta #QuettaGladiators #QuettaAttack #WeStandUnited."Pakistan Foreign <role id='role-30-Communicator'trigno='30'>Minister</role> condemned the attack, <trigger id='trigger-30'>wrote</trigger> a tweet,"A very sad day in <role id='role-19-Place'trigno='19'>Pakistan</role> as <role id='role-19-Target'trigno='19'>Balochistan</role> is <trigger id='trigger-19'>hit</trigger> by two <role id='role-19-ExplosiveDevice'trigno='19'>bomb</role> blasts in Quetta and Chaman but our resolve to continue fighting terrorism in all its forms remains unshaken. My thoughts and prayers with those who lost their lives and loved ones in these heinous attacks."Turkey's foreign <role id='role-31-Communicator'trigno='31'>minister</role> also condemned the attack, <trigger id='trigger-31'>wrote</trigger> on Twitter,"Terrible news from #Pakistan. We mourn with our Pakistani brothers and sisters for the attack in Quetta. Terrorism is a monster to be defeated. Heartfelt condolences @ SMQureshiPTI."“We received the news with deep sorrow that a <role id='role-20-ExplosiveDevice'trigno='20'>bomb</role> blast which <trigger id='trigger-20'>took place</trigger> at a <role id='role-20-Target'trigno='20'>marketplace</role> today in <role id='role-20-Place'trigno='20'>Quetta</role>, capital of the Balochistan province of Pakistan, resulted in many loss of lives and left many <role id='role-21-Victim'trigno='21'>others</role> <trigger id='trigger-21'>wounded</trigger>, We condemn this heinous terrorist attack and wish Allah's mercy upon those who lost their lives, a speedy recovery to the wounded, and convey our condolences to the Government and brotherly people of Pakistan,” the Turkish Foreign Ministry said in the statement. In a statement, the <role id='role-22-Participant'trigno='22'><role id='role-22-Participant'trigno='22'>Embassy of Saudi Arabia</role></role> in <role id='role-22-Place'trigno='22'>Pakistan</role> <trigger id='trigger-22'>said</trigger> Saudi Arabia stood with Pakistan against all forms of violence, terrorism and extremism. “Saudi Arabia also shares grief with the government and people of Pakistan and prays for early recovery of those injured in the incident,” the statement <trigger id='trigger-32'>added</trigger>. == Aftermath == === Protests === The Hazara <role id='role-33-Demonstrator'trigno='33'>people</role> <trigger id='trigger-33'>protested</trigger> regarding the perceived lack of security for them, claiming that"the Hazara community was being targeted but they weren’t provided effective security."Provincial Home Minister Zia Lango visited the site but dialogue with the Hazara community failed once again on security purposes. Hazaras demanded security from Prime Minister Imran Khan. Shortly after the bombing struck near a Shiite residential area, dozens of angry Shiite youths rallied in Quetta, demanding more security from the authorities and the arrest of those behind the attacks. They also denounced the violence by Sunni <role id='role-34-Killer'trigno='34'>extremists</role> who have <trigger id='trigger-34'>killed</trigger> <role id='role-34-Victim'trigno='34'>hundreds</role> in similar attacks over the past years in <role id='role-34-Place'trigno='34'>Balochistan province</role>."It seems people from the (Shiite) Hazara community were the target,"said senior police chief Abdur Razzaq Cheema. Members of the Hazara community staged a sit-in at Quetta's Western Bypass for over 23 hours, demanded better security measures following the blast. Women and children are among those who staged a sit-in since shortly after the blast. The protesters demanded that the government implements an effective security plan and ensure the protection of the Hazara community. Pakistani Shiite <role id='role-35-Preventer'trigno='35'>youth</role> from Hazara community burn tires to <trigger id='trigger-35'>block</trigger> the main <role id='role-35-Destination'trigno='35'>road</role> during a protest to condemn the attack. Hazara protesters refuse to end the Quetta sit-in even after the third day, with protesters continuing to block the western bypass. Federal Minister for Maritime Affairs <role id='role-37-Participant'trigno='37'><role id='role-37-Participant'trigno='37'>Syed Ali Haider Zaidi</role></role> arrived in the provincial <role id='role-36-Place'trigno='36'>capital</role> and <trigger id='trigger-36'>met</trigger> the affected <role id='role-36-Participant'trigno='36'><role id='role-36-Participant'trigno='36'>families</role></role> on the behalf of Prime Minister Imran Khan, <trigger id='trigger-37'>stating</trigger>"Federal government claimed full responsibility of protecting its citizens regardless of their caste, creed, religion or province and Government is taking strict action and seriously pursuing the investigations into the suicide attack."However, the protesters refused to call off their sit-in, demanded the attendance of Prime Minister Imran Khan, the capture of people behind the suicide attack and security of Hazara people. Representing the protesters, advocate Tahir Hazara expressed dismay over the federal government's attitude and regretted that Prime Minister Imran Khan had no time to visit Quetta after the tragic incident. However, he stated no one was safe in Quetta, saying that along with ordinary people, security personnel too had been martyred, adding that it raised questions over the capabilities of the government. <role id='role-38-Participant'trigno='38'><role id='role-38-Participant'trigno='38'>He</role></role> <trigger id='trigger-38'>said</trigger> the state must act without further delay because the people were tired of lifting the coffins of their loved ones. Balochistan National Party-Mengal (BNP-M) president Sardar Akhtar Jan Mengal visited the protest camp of the Hazara community and expressed solidarity with the protestors. A large number of people also staged a protest demonstration outside the Quetta Press Club after marching on main roads, protests erupted in Khyber Pakhtunkhwa, Sindh and Punjab too. After 4 days, the Hazara community ends sit-in after receiving assurances from state minister, Balochistan CM. However, protesters still demanded Imran Khan to visit them,"Prime Minister Imran Khan should come and console us,"<role id='role-39-Participant'trigno='39'><role id='role-39-Participant'trigno='39'>Muhammad Raza</role></role>, another participant of the sit-in, had <trigger id='trigger-39'>said</trigger>."This time the government should go beyond words and do something practical for our protection."Minister of state of Interior Shehryar Khan Afridi had visited the Imam Bargah located in Hazara town to condole with the bereaved family members, speaking to the media, <role id='role-40-Participant'trigno='40'><role id='role-40-Participant'trigno='40'>Afridi</role></role> <trigger id='trigger-40'>said</trigger>"The federal government will play its role in making sure that these heinous crimes end, I stand with the community and I assure you that the government has been working to ensure that such crimes end. That is why this was the first such incident to occur over the span of nine months,""we won't let anyone divide Pakistan", he added. On 16 April, both President Arif Alvi and the opposition party's leader Bilawal Bhutto Zardari visited Quetta to offer condolences to Hazara community, President Arif Alvi showed solidarity to <role id='role-41-Participant'trigno='41'><role id='role-41-Participant'trigno='41'>families</role></role> and <trigger id='trigger-41'>said</trigger>"The entire nation stands by the Hazara community in this hour of grief,"acknowledged it was the responsibility of the state to protect the people and said"Nation stands united."Earlier, talking to media persons in Quetta, the president had reaffirmed the government's commitment towards the implementation of the National Action Plan and commended CM Balochistan's commitment of announcing a compensation package for the victims. Meanwhile, Opposition Leader <role id='role-42-Participant'trigno='42'><role id='role-42-Participant'trigno='42'>Bilawal Zardari</role></role> condemns the government and point out their duel standards, he <trigger id='trigger-42'>said</trigger>,"On one hand they say the government is standing with the victims of the incident, and on the other a video exists where a federal minister is seen giving assurances to murderers and saying that no one will be able to touch them, Till when will have these dual standards, till when will this terrorism continue, victims need to be mainstreamed not terrorists."<role id='role-43-Participant'trigno='43'><role id='role-43-Participant'trigno='43'>He</role></role> showed condolence to the victims and also praised the army for eliminating the terrorists in recent years but he also provoked the emotional sentiments, <trigger id='trigger-43'>stated</trigger>, “No one can fight extremism alone, but we have to decide for the future. We need to fight this extremist mindset. When we ask for justice, we are called an enemy of the state. When I speak against banned organisations, I’m branded an enemy of the state."he referred to his recent controversy where <role id='role-44-Defendant'trigno='44'>he</role> was <trigger id='trigger-44'>accused</trigger> of using the Indian Sentiments against Pakistan's Government of not taking strict action against terrorist's organisations. Arif Alvi also promised that Imran Khan will visit Balochistan on April 18. Khan will visit the victims in Quetta, he is scheduled to preside over an important meeting to analyse peace and security situation in Balochistan. The development came after the Hazara community sit-in protest entered the fourth day on Sunday while demanding arrest of the culprits involved in the attack. Besides, the premier will also examine certain development projects undertaken by the provincial government. PM Khan is scheduled to inaugurate a housing scheme under which 125, 000 houses will be built for families living in Balochistan. Later, Imran Khan postponed his visit to Quetta. On 21 April 2019, Prime Minister Imran Khan visited Quetta and <trigger id='trigger-45'>met</trigger> the <role id='role-45-Participant'trigno='45'><role id='role-45-Participant'trigno='45'>families</role></role> of those martyred in the Hazarganji market terrorist attack. Fatiha was"offered for the martyrs of the recent blast. Prime Minister listened to the issues of Hazara brethren and assured state will ensure their protection". After the meeting, the premier laid the foundation stone of a housing project under Naya Pakistan Housing Programme, he inaugurated 135, 000 housing units to be built across the country in the first phase. 25, 000 apartments to be built in Islamabad for federal government employees and 110, 000 apartments to be constructed in Balochistan for fishermen of Gwadar. === CCTV === Following the blast, a high-level meeting took place under Balochistan Chief Minister Jam Kamal's stewardship to review and reinforce security measures. It was decided in the meeting that the affected families will be given immediate financial assistance and that the provincial government will bear the treatment cost of <role id='role-46-Victim'trigno='46'>those</role> <trigger id='trigger-46'>injured</trigger>. Furthermore, it was decided that closed-circuit television (CCTV) cameras will be immediately installed at the Hazarganji market and other public places. Action on terrorists'hideouts and against their leaders will also be boosted, the caucus affirmed. === Security of Hazara people === Qadir Nayil, a Hazara community leader, asked the government for the provision of better protection."Once again our people were the target and once again we will have to bury our dear ones,"<role id='role-47-Participant'trigno='47'><role id='role-47-Participant'trigno='47'>he</role></role> <trigger id='trigger-47'>said</trigger>."We demand more security from the government and all those involved in today's act of terrorism should be found and punished."Prime Minister Imran Khan has issued a statement regarding the attack, told to increase the security of Hazara people. === Operation Radd ul fasaad === After the blast, Pakistan Armed forces fastened the Operation to arrest the people behind the attack, terrorists and suspects connecting to them. At least <role id='role-48-Detainee'trigno='48'>7</role> were <trigger id='trigger-48'>arrested</trigger> in <role id='role-48-Place'trigno='48'>Thatta</role>. <role id='role-49-Detainee'trigno='49'>28</role> including one policeman <trigger id='trigger-49'>arrested</trigger> for facilitating the terrorists in different parts of <role id='role-49-Place'trigno='49'>Karachi</role>. High-level Operation started in Peshawar in which till April 16, one <role id='role-50-Victim'trigno='50'>policeman</role> and five terrorists were <trigger id='trigger-50'>killed</trigger>, the operation goes on. == See also == * January 2016 Quetta suicide bombing * August 2016 Quetta attacks == References ==
    </div>

    <div id='events-data' hidden>
      [{"event_id": "suicide_ied_105-E1", "text": "bombing", "offset": 3, "length": 1, "template": "[Attacker] detonated or exploded [ExplosiveDevice] explosive device using [Instrument] to attack [Target] target at [Place] place", "role_text_map": [{"role": "Attacker", "token": null}, {"role": "Target", "token": {"text": "marketplace", "entity_id": "suicide_ied_105-T3", "offset": 12, "length": 1}}, {"role": "Instrument", "token": null}, {"role": "ExplosiveDevice", "token": {"text": "bomb", "entity_id": "suicide_ied_105-T2", "offset": 7, "length": 1}}, {"role": "Place", "token": {"text": "Quetta", "entity_id": "suicide_ied_105-T4", "offset": 14, "length": 1}}]}, {"event_id": "suicide_ied_105-E2", "text": "killing", "offset": 21, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "people", "entity_id": "suicide_ied_105-T6", "offset": 23, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E3", "text": "took place", "offset": 27, "length": 2, "template": "[Attacker] detonated or exploded [ExplosiveDevice] explosive device using [Instrument] to attack [Target] target at [Place] place", "role_text_map": [{"role": "Attacker", "token": null}, {"role": "Target", "token": null}, {"role": "Instrument", "token": null}, {"role": "ExplosiveDevice", "token": null}, {"role": "Place", "token": {"text": "area", "entity_id": "suicide_ied_105-T7", "offset": 31, "length": 1}}]}, {"event_id": "suicide_ied_105-E4", "text": "were", "offset": 48, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "Shiites", "entity_id": "suicide_ied_105-T12", "offset": 46, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E5", "text": "killed", "offset": 58, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "soldiers", "entity_id": "suicide_ied_105-T15", "offset": 55, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E6", "text": "expressed", "offset": 66, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Imran Khan", "entity_id": "suicide_ied_105-T17", "offset": 64, "length": 2}}, {"role": "Participant", "token": {"text": "Imran Khan", "entity_id": "suicide_ied_105-T17", "offset": 64, "length": 2}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E7", "text": "treatment", "offset": 81, "length": 1, "template": "[Treater] treater treated [Patient] patient for [MedicalIssue] medical issue with [Instrument] means at [Place] place", "role_text_map": [{"role": "Treater", "token": {"text": "authorities", "entity_id": "suicide_ied_105-T18", "offset": 75, "length": 1}}, {"role": "Patient", "token": {"text": "injured", "entity_id": "suicide_ied_105-T19", "offset": 84, "length": 1}}, {"role": "MedicalIssue", "token": null}, {"role": "Instrument", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E8", "text": "killed", "offset": 171, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "people", "entity_id": "suicide_ied_105-T43", "offset": 168, "length": 1}}, {"role": "Place", "token": {"text": "Quetta", "entity_id": "suicide_ied_105-T44", "offset": 183, "length": 1}}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E9", "text": "killed", "offset": 190, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "Most", "entity_id": "suicide_ied_105-T45", "offset": 185, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E10", "text": "carried out", "offset": 225, "length": 2, "template": "[Attacker] attacked [Target] using [Instrument] at [Place] place", "role_text_map": [{"role": "Attacker", "token": {"text": "militant", "entity_id": "suicide_ied_105-T55", "offset": 238, "length": 1}}, {"role": "Target", "token": null}, {"role": "Instrument", "token": null}, {"role": "Place", "token": {"text": "stall", "entity_id": "suicide_ied_105-T56", "offset": 242, "length": 1}}]}, {"event_id": "suicide_ied_105-E11", "text": "reported", "offset": 252, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "survivor", "entity_id": "suicide_ied_105-T59", "offset": 251, "length": 1}}, {"role": "Participant", "token": {"text": "survivor", "entity_id": "suicide_ied_105-T59", "offset": 251, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E12", "text": "killed", "offset": 282, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "perpetrator", "entity_id": "suicide_ied_105-T64", "offset": 288, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": {"text": "perpetrator", "entity_id": "suicide_ied_105-T64", "offset": 288, "length": 1}}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E14", "text": "told", "offset": 355, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "CNN", "entity_id": "suicide_ied_105-T75", "offset": 356, "length": 1}}, {"role": "Participant", "token": {"text": "CNN", "entity_id": "suicide_ied_105-T75", "offset": 356, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E15", "text": "carried out", "offset": 379, "length": 2, "template": "[Attacker] attacked [Target] using [Instrument] at [Place] place", "role_text_map": [{"role": "Attacker", "token": {"text": "group", "entity_id": "suicide_ied_105-T81", "offset": 376, "length": 1}}, {"role": "Target", "token": {"text": "minorities", "entity_id": "suicide_ied_105-T83", "offset": 384, "length": 1}}, {"role": "Instrument", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E17", "text": "said", "offset": 539, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Jam Kamal Khan", "entity_id": "suicide_ied_105-T114", "offset": 535, "length": 3}}, {"role": "Participant", "token": {"text": "Jam Kamal Khan", "entity_id": "suicide_ied_105-T114", "offset": 535, "length": 3}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E18", "text": "wrote", "offset": 562, "length": 1, "template": "[Participant] communicated remotely with [Participant] about [Topic] topic using [Instrument] at [Place] place", "role_text_map": [{"role": "Participant", "token": {"text": "he", "entity_id": "suicide_ied_105-T118", "offset": 561, "length": 1}}, {"role": "Participant", "token": {"text": "he", "entity_id": "suicide_ied_105-T118", "offset": 561, "length": 1}}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E20", "text": "loss", "offset": 649, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "civilians", "entity_id": "suicide_ied_105-T138", "offset": 651, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E21", "text": "collecting", "offset": 657, "length": 1, "template": "[Investigator] investigated [Defendant] for [Crime] crime in [Place] place", "role_text_map": [{"role": "Investigator", "token": {"text": "forces", "entity_id": "suicide_ied_105-T139", "offset": 655, "length": 1}}, {"role": "Defendant", "token": null}, {"role": "Crime", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E22", "text": "protest", "offset": 752, "length": 1, "template": "[Demonstrator] was in a demonstration for [Topic] topic with [VisualDisplay] visual display against [Target] at [Place] place, with potential involvement of [Regulator] police or military", "role_text_map": [{"role": "Demonstrator", "token": {"text": "protesters", "entity_id": "suicide_ied_105-T156", "offset": 749, "length": 1}}, {"role": "Regulator", "token": null}, {"role": "VisualDisplay", "token": null}, {"role": "Topic", "token": null}, {"role": "Target", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E28", "text": "hit", "offset": 1077, "length": 1, "template": "[Attacker] detonated or exploded [ExplosiveDevice] explosive device using [Instrument] to attack [Target] target at [Place] place", "role_text_map": [{"role": "Attacker", "token": null}, {"role": "Target", "token": {"text": "Balochistan", "entity_id": "suicide_ied_105-T227", "offset": 1075, "length": 1}}, {"role": "Instrument", "token": null}, {"role": "ExplosiveDevice", "token": {"text": "bomb", "entity_id": "suicide_ied_105-T228", "offset": 1080, "length": 1}}, {"role": "Place", "token": {"text": "Pakistan", "entity_id": "suicide_ied_105-T226", "offset": 1073, "length": 1}}]}, {"event_id": "suicide_ied_105-E31", "text": "took place", "offset": 1181, "length": 2, "template": "[Attacker] detonated or exploded [ExplosiveDevice] explosive device using [Instrument] to attack [Target] target at [Place] place", "role_text_map": [{"role": "Attacker", "token": null}, {"role": "Target", "token": {"text": "marketplace", "entity_id": "suicide_ied_105-T249", "offset": 1185, "length": 1}}, {"role": "Instrument", "token": null}, {"role": "ExplosiveDevice", "token": {"text": "bomb", "entity_id": "suicide_ied_105-T248", "offset": 1178, "length": 1}}, {"role": "Place", "token": {"text": "Quetta", "entity_id": "suicide_ied_105-T250", "offset": 1188, "length": 1}}]}, {"event_id": "suicide_ied_105-E32", "text": "wounded", "offset": 1208, "length": 1, "template": "[Victim] was injured by [Injurer] using [Instrument] in [BodyPart] body part with [MedicalCondition] medical issue at [Place] place", "role_text_map": [{"role": "Victim", "token": {"text": "others", "entity_id": "suicide_ied_105-T255", "offset": 1207, "length": 1}}, {"role": "Injurer", "token": null}, {"role": "Instrument", "token": null}, {"role": "BodyPart", "token": null}, {"role": "MedicalCondition", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E33", "text": "said", "offset": 1270, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Embassy of Saudi Arabia", "entity_id": "suicide_ied_105-T269", "offset": 1264, "length": 4}}, {"role": "Participant", "token": {"text": "Embassy of Saudi Arabia", "entity_id": "suicide_ied_105-T269", "offset": 1264, "length": 4}}, {"role": "Topic", "token": null}, {"role": "Place", "token": {"text": "Pakistan", "entity_id": "suicide_ied_105-T270", "offset": 1269, "length": 1}}]}, {"event_id": "suicide_ied_105-E16", "text": "wrote", "offset": 442, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "PTI", "entity_id": "suicide_ied_105-T94", "offset": 437, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E19", "text": "wrote", "offset": 630, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "Shehryar Khan Afridi", "entity_id": "suicide_ied_105-T133", "offset": 623, "length": 3}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E23", "text": "wrote", "offset": 759, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "he", "entity_id": "suicide_ied_105-T157", "offset": 758, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E24", "text": "wrote", "offset": 842, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "he", "entity_id": "suicide_ied_105-T176", "offset": 841, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E25", "text": "wrote", "offset": 924, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "Ahsan Iqbal", "entity_id": "suicide_ied_105-T193", "offset": 922, "length": 2}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E26", "text": "wrote", "offset": 980, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "he", "entity_id": "suicide_ied_105-T203", "offset": 979, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E27", "text": "wrote", "offset": 1028, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "team", "entity_id": "suicide_ied_105-T215", "offset": 1023, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E29", "text": "wrote", "offset": 1063, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "Minister", "entity_id": "suicide_ied_105-T225", "offset": 1058, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E30", "text": "wrote", "offset": 1129, "length": 1, "template": "[Communicator] communicated to [Recipient] about [Topic] topic using [Instrument] at [Place] place (one-way communication)", "role_text_map": [{"role": "Communicator", "token": {"text": "minister", "entity_id": "suicide_ied_105-T237", "offset": 1123, "length": 1}}, {"role": "Recipient", "token": null}, {"role": "Instrument", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E34", "text": "added", "offset": 1314, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": null}, {"role": "Participant", "token": null}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E35", "text": "protested", "offset": 1325, "length": 1, "template": "[Demonstrator] was in a demonstration for [Topic] topic with [VisualDisplay] visual display against [Target] at [Place] place, with potential involvement of [Regulator] police or military", "role_text_map": [{"role": "Demonstrator", "token": {"text": "people", "entity_id": "suicide_ied_105-T279", "offset": 1324, "length": 1}}, {"role": "Regulator", "token": null}, {"role": "VisualDisplay", "token": null}, {"role": "Topic", "token": null}, {"role": "Target", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E36", "text": "killed", "offset": 1429, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "hundreds", "entity_id": "suicide_ied_105-T304", "offset": 1430, "length": 1}}, {"role": "Place", "token": {"text": "Balochistan province", "entity_id": "suicide_ied_105-T305", "offset": 1439, "length": 2}}, {"role": "Killer", "token": {"text": "extremists", "entity_id": "suicide_ied_105-T302", "offset": 1426, "length": 1}}, {"role": "MedicalIssue", "token": null}]}, {"event_id": "suicide_ied_105-E37", "text": "block", "offset": 1542, "length": 1, "template": "[Preventer] prevents [Transporter] from entering [Destination] place from [Origin] place to transport [PassengerArtifact] using [Vehicle] vehicle", "role_text_map": [{"role": "Transporter", "token": null}, {"role": "PassengerArtifact", "token": null}, {"role": "Vehicle", "token": null}, {"role": "Preventer", "token": {"text": "youth", "entity_id": "suicide_ied_105-T328", "offset": 1535, "length": 1}}, {"role": "Origin", "token": null}, {"role": "Destination", "token": {"text": "road", "entity_id": "suicide_ied_105-T331", "offset": 1545, "length": 1}}]}, {"event_id": "suicide_ied_105-E38", "text": "met", "offset": 1594, "length": 1, "template": "[Participant] met face-to-face with [Participant] about [Topic] topic at [Place] place", "role_text_map": [{"role": "Participant", "token": {"text": "families", "entity_id": "suicide_ied_105-T343", "offset": 1597, "length": 1}}, {"role": "Participant", "token": {"text": "families", "entity_id": "suicide_ied_105-T343", "offset": 1597, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": {"text": "capital", "entity_id": "suicide_ied_105-T342", "offset": 1592, "length": 1}}]}, {"event_id": "suicide_ied_105-E39", "text": "stating", "offset": 1607, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Syed Ali Haider Zaidi", "entity_id": "suicide_ied_105-T340", "offset": 1584, "length": 4}}, {"role": "Participant", "token": {"text": "Syed Ali Haider Zaidi", "entity_id": "suicide_ied_105-T340", "offset": 1584, "length": 4}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E40", "text": "said", "offset": 1753, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "He", "entity_id": "suicide_ied_105-T372", "offset": 1752, "length": 1}}, {"role": "Participant", "token": {"text": "He", "entity_id": "suicide_ied_105-T372", "offset": 1752, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E41", "text": "said", "offset": 1893, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Muhammad Raza", "entity_id": "suicide_ied_105-T403", "offset": 1881, "length": 2}}, {"role": "Participant", "token": {"text": "Muhammad Raza", "entity_id": "suicide_ied_105-T403", "offset": 1881, "length": 2}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E42", "text": "said", "offset": 1944, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Afridi", "entity_id": "suicide_ied_105-T417", "offset": 1943, "length": 1}}, {"role": "Participant", "token": {"text": "Afridi", "entity_id": "suicide_ied_105-T417", "offset": 1943, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E43", "text": "said", "offset": 2052, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "families", "entity_id": "suicide_ied_105-T439", "offset": 2050, "length": 1}}, {"role": "Participant", "token": {"text": "families", "entity_id": "suicide_ied_105-T439", "offset": 2050, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E44", "text": "said", "offset": 2148, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "Bilawal Zardari", "entity_id": "suicide_ied_105-T455", "offset": 2135, "length": 2}}, {"role": "Participant", "token": {"text": "Bilawal Zardari", "entity_id": "suicide_ied_105-T455", "offset": 2135, "length": 2}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E45", "text": "stated", "offset": 2246, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "He", "entity_id": "suicide_ied_105-T469", "offset": 2220, "length": 1}}, {"role": "Participant", "token": {"text": "He", "entity_id": "suicide_ied_105-T469", "offset": 2220, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E46", "text": "accused", "offset": 2315, "length": 1, "template": "[Prosecutor] charged or indicted [Defendant] before [JudgeCourt] court or judge for [Crime] crime in [Place] place", "role_text_map": [{"role": "Prosecutor", "token": null}, {"role": "Defendant", "token": {"text": "he", "entity_id": "suicide_ied_105-T488", "offset": 2313, "length": 1}}, {"role": "JudgeCourt", "token": null}, {"role": "Crime", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E47", "text": "met", "offset": 2467, "length": 1, "template": "[Participant] met face-to-face with [Participant] about [Topic] topic at [Place] place", "role_text_map": [{"role": "Participant", "token": {"text": "families", "entity_id": "suicide_ied_105-T518", "offset": 2469, "length": 1}}, {"role": "Participant", "token": {"text": "families", "entity_id": "suicide_ied_105-T518", "offset": 2469, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E48", "text": "injured", "offset": 2634, "length": 1, "template": "[Victim] was injured by [Injurer] using [Instrument] in [BodyPart] body part with [MedicalCondition] medical issue at [Place] place", "role_text_map": [{"role": "Victim", "token": {"text": "those", "entity_id": "suicide_ied_105-T552", "offset": 2633, "length": 1}}, {"role": "Injurer", "token": null}, {"role": "Instrument", "token": null}, {"role": "BodyPart", "token": null}, {"role": "MedicalCondition", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E49", "text": "said", "offset": 2727, "length": 1, "template": "[Participant] communicated with [Participant] about [Topic] topic at [Place] place (document does not specify in person or not, or one-way or not)", "role_text_map": [{"role": "Participant", "token": {"text": "he", "entity_id": "suicide_ied_105-T572", "offset": 2726, "length": 1}}, {"role": "Participant", "token": {"text": "he", "entity_id": "suicide_ied_105-T572", "offset": 2726, "length": 1}}, {"role": "Topic", "token": null}, {"role": "Place", "token": null}]}, {"event_id": "suicide_ied_105-E50", "text": "arrested", "offset": 2811, "length": 1, "template": "[Jailer] arrested or jailed [Detainee] for [Crime] crime at [Place] place", "role_text_map": [{"role": "Jailer", "token": null}, {"role": "Detainee", "token": {"text": "7", "entity_id": "suicide_ied_105-T586", "offset": 2809, "length": 1}}, {"role": "Crime", "token": null}, {"role": "Place", "token": {"text": "Thatta", "entity_id": "suicide_ied_105-T587", "offset": 2813, "length": 1}}]}, {"event_id": "suicide_ied_105-E51", "text": "arrested", "offset": 2819, "length": 1, "template": "[Jailer] arrested or jailed [Detainee] for [Crime] crime at [Place] place", "role_text_map": [{"role": "Jailer", "token": null}, {"role": "Detainee", "token": {"text": "28", "entity_id": "suicide_ied_105-T588", "offset": 2815, "length": 1}}, {"role": "Crime", "token": null}, {"role": "Place", "token": {"text": "Karachi", "entity_id": "suicide_ied_105-T592", "offset": 2828, "length": 1}}]}, {"event_id": "suicide_ied_105-E52", "text": "killed", "offset": 2849, "length": 1, "template": "[Victim] died at [Place] place from [MedicalIssue] medical issue, killed by [Killer] killer", "role_text_map": [{"role": "Victim", "token": {"text": "policeman", "entity_id": "suicide_ied_105-T594", "offset": 2844, "length": 1}}, {"role": "Place", "token": null}, {"role": "Killer", "token": null}, {"role": "MedicalIssue", "token": null}]}]
    </div>

    <div id='relations-data' hidden>
      []
    </div>

    <p>
      You can navigate all of the triggers by clicking the following buttons. <br>
      You have to finish all the triggers before submitting. (Remember that you can't refresh the page otherwise
      the progress will be gone, <br>
      to prevent this from happening, we suggest that you write the QA pairs in the google doc and copy paste them
      here)
    </p>
    <!-- Tabs for each trigger -->
    <div class="btn-toolbar" id="button-bar">
    </div>

    <section>
      <div style="margin-top:10px;">
        <em>
          These are bootstrap question answer pairs generated by GPT. 
        </em>
        <div id='bootstrap-area' class='ann well well-sm'>
        </div>
      </div>

      <div style="margin-top:10px;">
        <em>
          These are relations between events.
        </em>
        <div id='relations-area' class='ann well well-sm'>
        </div>
      </div>

      <div style="margin-top:10px;">
        <em>
          KAIROS event arguments for triggers
        </em>
        <div id='template-area' class='ann well well-sm'>
        </div>
      </div>

      <div class="btn-container">
        <button id="addbtn" class="btn btn-success" type="button" onclick="add_qa_input()">+</button>
        <label for="addbtn">Add a QA pair</label>
      </div>
      <div class="btn-container">
        <button id="rmbtn" class="btn btn-danger" type="button" onclick="remove_qa_input()">-</button>
        <label for="rmbtn">Remove a QA pair</label>
      </div>

      <div id="input-area">

      </div>
    </section>

    <div title="Highlight all fields before submitting">
      <button id="save" class="btn btn-default" type="button">Save</button>
      <button id="submitButton" class="btn btn-default" type="button">Submit</button>
    </div>
  </section>


  <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.1.0.min.js"
    integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

  <style>
    .mg-15 {
      margin-left: 15px;
      margin-right: 15px;
    }

    .mg-5 {
      margin: 5px;
    }

    .container-fluid {
      max-width: 1800px;
      margin: 30px;
    }

    .btn-container {
      display: inline-block;
      margin: 10px;
    }

    #collapseTrigger {
      color: #fff;
      display: block;
      text-decoration: none;
    }

    #submitButton {
      white-space: normal;
    }

    #input-area {
      display: block;
      margin: 10px;
    }

    #input-area>div {
      margin: 10px;
      background-color: #ffe3e3;
    }

    #bootstrap-area {
      background-color: #f7dec5;
    }

    #template-area {
      background-color: #eee;
      display: flex;
    }

    .template-map {
      border: 1px solid gray;
      padding: 5px;
    }

    .btn-container>button {
      min-width: 3em;
    }

    trigger {
      display: inline;
    }

    role {
      display: inline;
    }

    .highlight-trigger {
      background-color: lightgoldenrodyellow;
    }

    .highlight-role {
      background-color: lightblue;
    }

    .btn-group {
      vertical-align: middle;
    }

    .content {
      margin-bottom: 15px;
    }

    .ann {
      font-size: 16px;
    }

    .disp {
      font-size: 20px;
    }

    .ann>span.token {
      cursor: pointer;
    }

    .ann>span.token:hover {
      text-decoration: underline;
    }

    .ann>strong.annotation:hover {
      text-decoration: line-through;
    }

    input[disabled] {
      color: #000
    }
  </style>

  <script>
    // ---------------------------------------------------------
    // Global
    // ---------------------------------------------------------

    var page_num_set = new Set();

    // ---------------------------------------------------------
    // Create jQuery elements
    // ---------------------------------------------------------

    var submit = $('#submitButton');

    // list of text/offset objects 
    let events_data = JSON.parse($('#events-data').text().trim());
    let relations_data = JSON.parse($('#relations-data').text().trim());

    const empty_template_map = function () {
      return $('<div class="template-map">');
    }

    let save_record = [];
    let template_record = [];
    events_data.forEach(function (_, idx) {
      template_record[idx] = empty_template_map();
    });

    // implementation of string formatting
    if (!String.prototype.format) {
      String.prototype.format = function () {
        var args = arguments;
        return this.replace(/{(\d+)}/g, function (match, number) {
          return typeof args[number] != 'undefined'
            ? args[number]
            : match
            ;
        });
      };
    }

    // ---------------------------------------------------------
    // Create elements
    // ---------------------------------------------------------

    var makeDom = function () {
      highlightEvent();
      recoverUserInput();
    };

    var highlightEvent = function () {
      /* highlight trigger within document */

      // remove previous highlights
      $('trigger').removeClass('highlight-trigger');
      $('role').removeClass('highlight-role');

      page_num_set.forEach(trigger_num => {
        // highlight trigger
        $('#trigger-' + trigger_num).addClass('highlight-trigger');
        $('role[trigno=' + trigger_num + ']').addClass('highlight-role');
      })

      /* update bootstrap questions */
      //$('#bootstrap-area').html(trigger.bootstrap ?? 'no bootstrap available');

    }

    const relationTypes = [
      "BEFORE",
      "AFTER",
      "OVERLAPS",
      "RIGHT-AFTER",
      "RIGHT-BEFORE",
      "EQUAL",
      "CONTAINS",
      "CAUSALITY",
    ]

    // restore input from other trigger
    var recoverUserInput = function () {
      // insert template mapping
      const templateArea = $('#template-area');
      templateArea.empty()
      page_num_set.forEach(trigger_num => {
        templateArea.append(template_record[trigger_num]);
      });

      // relations
      const relationsArea = $('#relations-area');
      relationsArea.empty();

      const pagenos = Array.from(page_num_set);
      pagenos.forEach(i => {
        pagenos.forEach(j => {
          if (i == j) return;

          const event1 = events_data[i];
          const event2 = events_data[j];
          const select = makeRelationSelect(event1, event2);
          relationsArea.append(select);
        })
      })
    };

    function makeRelationSelect(event1, event2) {
      const id1 = event1.event_id;
      const id2 = event2.event_id;
      const relation = relations_data.find(r => 
        r.event1_id == id1 && 
        r.event2_id == id2
      );

      const selectInput =
        $(`<select class="relation-select mg-5">`);
      
      relationTypes.forEach(type => {
        const option = $(`<option value="${type}">${type.toLowerCase()}</option>`);
        selectInput.append(option);
      });
      selectInput.append($(`<option value="NONE">none</option>`));

      selectInput.val(relation?.type ?? "NONE");
      selectInput.on('change', function () {
        const type = $(this).val();
        const event1_id = id1;
        const event2_id = id2;
        const relation = relations_data.find(r => 
          r.event1_id == event1_id && 
          r.event2_id == event2_id
        );
        if (relation) {
          relation.type = type;
        } else {
          relations_data.push({
            event1_id,
            event2_id,
            type,
          });
        }
      });

      function describeEvent(event) {
        console.log(event)
        return `${event.text} @ ${event.offset}`;
      }

      const div = $('<div>')
        .append($('<label>').text(describeEvent(event1)))
        .append(selectInput)
        .append($('<label>').text(describeEvent(event2)))

      return div;
    }

    // ensure something is in the input box
    var canSubmit = function () {
      return true;
    };

    // template role fields
    const make_role_mapping_element = function (role, text) {
      const role_text = $('<label>').html('<b>' + role + '</b>:');
      const role_field = $('<span>')
        .addClass('role-field')
        .attr({
          role: role,
          rows: 1,
        })
        .text(text)

      const role_div = $('<div>')
        .addClass('role-container')
        .append(role_text)
        .append(role_field);

      return role_div;
    }

    // number of QA pairs at the moment
    var input_count = 0;

    const add_qa_input = function () {
      const current_idx = input_count;
      let question_text = $('<label>').text('question:');
      let question_input = $('<textarea>')
        .addClass('question-input')
        .addClass('mg-15')
        .attr({
          id: 'input-question' + input_count,
          name: 'input-question' + input_count,
          placeholder: 'write down your question',
          rows: 1,
          cols: 80,
        });
      question_input.on("input", function () {
        // if (is_wh_question(question_input.val())) {
        //     window.alert("It seems you are not writing a yes/no question, make sure " +
        //         "you are writing questions of which the answer is yes or no!")
        // }
        show();
      });
      let answer_text = $('<label>').text('answer:');
      let answer_input = $('<textarea>')
        .addClass('answer-input')
        .addClass('mg-15')
        .attr({
          id: 'input-answer' + input_count,
          name: 'input-answer' + input_count,
          placeholder: 'write down your answer',
          rows: 1,
          cols: 80,
        });
      answer_input.on("input", function () {
        show();
      });

      let input_fields = $(
        '<div>').addClass('input-fields')
        .append(question_text)
        .append(question_input)
        .append(answer_text)
        .append(answer_input)
      $('#input-area').append(input_fields);

      input_count += 1;
      show();
    };

    const remove_qa_input = function () {
      if (input_count <= 0) {
        return;
      }
      $('#input-area').children().last().remove();
      input_count -= 1;
      show();
    };

    var enable_button = function (button) {
      button.removeAttr("disabled");
      button.removeClass("btn-default");
      button.addClass("btn-success");
    };

    var disable_button = function (button) {
      button.attr("disabled", "disabled");
      button.removeClass("btn-success");
      button.addClass("btn-default");
    };

    var select_button = function (button) {
      button.removeClass("btn-default");
      button.addClass("btn-primary");
    };

    var deselect_button = function (button) {
      button.removeClass("btn-primary");
      button.addClass("btn-default");
    };

    var is_wh_question = function (question) {
      let tokens = question.split(' ');
      if (tokens.length <= 1) {
        return false;
      }
      console.log(tokens);

      // let wh_pattern = /^Wh\|wh\|How\|how/;
      let wh_pattern = /^wh|Wh|how|How/;
      // console.log(question.match(wh_pattern));
      return !!question.match(wh_pattern);
    };


    var show = function () {
      for (button of document.getElementById('button-bar').getElementsByTagName('*')) {
        if (page_num_set.has(parseInt(button.getAttribute('page-no'))))
          select_button($(button));
        else
          deselect_button($(button));
      }

      if (canSubmit()) {
        enable_button(submit);
        // enable_button($('#next-btn'));
      } else {
        disable_button(submit);
        // disable_button($('#next-btn'));
      }
    };

    // dynamically create buttons for each SRL arg
    events_data.forEach(function (trigger, i) {
      if (trigger.text.trim()) {
        //console.log(trigger);
        var button = document.createElement("button");
        button.setAttribute("type", "button");
        button.setAttribute("id", "button-page-" + i);
        button.setAttribute("page-no", i);
        button.setAttribute("class", "btn btn-default");
        button.innerHTML = trigger.text + " @ token " + trigger.offset;
        button.onclick = function () {
          const pageno = parseInt(this.getAttribute("page-no"));
          // toggle button
          if (button.classList.contains('btn-default'))
            page_num_set.add(pageno);
          else
            page_num_set.delete(pageno);
          makeDom();
          let instruction = $('#instructionBody');
          if (instruction.is(':visible')) {
            instruction.toggle();
          }
          //window.scrollTo(0, 0); // scroll to top
          show();
        }
        document.getElementById('button-bar').appendChild(button);
      }

      // replace newlines with HTML line breaks
      const bootstrap = trigger.bootstrap;
      if (bootstrap !== undefined)
        trigger.bootstrap = bootstrap.replaceAll('\n', '<br>');

      // format template area with role mappings
      // if template not null or undefined
      if (trigger.template !== null) {
        const template_area = template_record[i];
        const template = $('<p>').text(trigger.template);
        template_area.append(template);
        trigger.role_text_map.forEach(function (pairing) {
          template_area.append(make_role_mapping_element(pairing.role, pairing.token?.text));
        });
      }
    })

    var clear_button = document.createElement("button");
    clear_button.setAttribute("type", "button");
    clear_button.setAttribute("class", "btn btn-default");
    clear_button.innerHTML = "Clear Triggers";
    clear_button.onclick = function () {
      page_num_set.clear();
      makeDom();
      show();
    }
    document.getElementById('button-bar').appendChild(clear_button);

    // ---------------------------------------------------------
    // Initialize
    // ---------------------------------------------------------

    makeDom(0);

    var save_all = function () {
      save_record.qapairs = [];
      save_record.relations = relations_data.filter(r => r.type !== "NONE");

      const inputAreas = $('#input-area').children();

      // traverse over elements to get QA pairs
      inputAreas.each(function (_, input) {
        const $input = $(input);
        // save qa pairs
        const question = $input.children('.question-input').val();
        const answer = $input.children('.answer-input').val();
        save_record.qapairs.push({
          'question': question,
          'answer': answer
        });
      });

      console.log(save_record);
    };

    var submit_form = function () {
      save_all();

      const urlParams = new URLSearchParams(window.location.search)

      // create the form element and point it to the correct endpoint
      const form = document.createElement('form')
      form.action = (new URL('mturk/externalSubmit', urlParams.get('turkSubmitTo'))).href
      form.method = 'post'

      // attach the assignmentId
      const inputAssignmentId = document.createElement('input')
      inputAssignmentId.name = 'assignmentId'
      inputAssignmentId.value = urlParams.get('assignmentId')
      inputAssignmentId.hidden = true
      form.appendChild(inputAssignmentId)

      // attach data I want to send back
      const inputResults = document.createElement('input')
      inputResults.name = 'results'
      inputResults.value = JSON.stringify(save_record)
      inputResults.hidden = true
      form.appendChild(inputResults)

      // attach the form to the HTML document and trigger submission
      document.body.appendChild(form)
      form.submit()
    }

    $('#save').on('click', save_all);
    submit.on('click', submit_form);

    var popup_alert = function (alert_box, text) {
      alert_box.html(text);
      alert_box.css({
        'background-color': 'fec5bb',
        'padding': '5px',
        'border': '1px solid lightgray',
        'border-radius': '10px',
        'margin-top': '10px',
        'margin-bottom': '10px'
      });
      displaying = true;
      setTimeout(function () {
        alert_box.html('');
        alert_box.css({
          'padding': '0px',
          'border': '0px'
        });
        displaying = false;
      }, 7000);
    };

    // Instructions expand/collapse
    var content = $('#instructionBody');
    var instructions_trigger = $('#collapseTrigger');
    // content.hide();
    $('.collapse-text').text('(Click to collapse)');
    instructions_trigger.click(function () {
      content.toggle();
      var isVisible = content.is(':visible');
      if (isVisible) {
        $('.collapse-text').text('(Click to collapse)');
      } else {
        $('.collapse-text').text('(Click to expand)');
      }
    });

    show();

  </script>
</crowd-form>